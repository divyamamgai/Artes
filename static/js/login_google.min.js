(function(a,h,f){var g,e,b=a.login_state;function c(d){if(d.code){g.css("display","none");e.css("display","inline-block");f.ajax({type:"POST",url:"/login/google/"+b,processData:false,data:d.code,contentType:"application/octet-stream; charset=utf-8",success:function(i,j){if(j==="success"){a.location.href="/catalog"}else{alert("Error occurred in the login process.\nMessage: "+i);g.css("display","block");e.css("display","none")}}})}}a.googleLogin=c;f(function(){g=f(".login-button",h);e=f("#login-loader",h)})})(window,document,jQuery);